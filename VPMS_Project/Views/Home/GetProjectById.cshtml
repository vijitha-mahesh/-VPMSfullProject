
@{
    Layout = "_Layout";
    ViewData["Title"] = "GetProjectById";
}
@model Project

    <div class="container-fluid pb-5" id="addP1">

        <div class="container-fluid pb-5 pt-5">
            <div class="row ">

                <div class="col-sm-4">

                    <div class="col-md-12 text-center pb-4" data-aos="zoom-in" data-aos-duration="1000">
                        <div class="col-10 mx-auto p-0" style="width: 30rem;background-color: #00000026;min-height: 290px;border-radius: 10px">
                            <div class="col-12 pt-3" style="background-color: #274663;color:white; border-top-left-radius: 10px;border-top-right-radius: 10px;min-height: 175px;margin-bottom: 20px;">
                                <h5 class="card-title">Time Remaining</h5>
                                <p class="card-text"> @ViewBag.TimeDays days remaining</p>
                                <p class="card-text"> @ViewBag.TimePresentage% </p>
                            </div>
                            <div class="col-12 pt-4">
                                <div class="progress w-50 mx-auto">
                                    <div class="progress-bar bg-success" role="progressbar" aria-valuenow="60" aria-valuemin="0" aria-valuemax="100" style="width:@ViewBag.TimePresentage%">

                                    </div>
                                </div>
                            </div>
                        </div>
                    </div>
                    <div class="col-md-12 text-center pb-4" data-aos="zoom-in" data-aos-duration="1000">
                        <div class="col-10 mx-auto p-0" style="width: 30rem;background-color: #00000026;min-height: 290px;border-radius: 10px">
                            <div class="col-12 pt-3" style=" background-color: #492763;color:white;border-top-left-radius: 10px;border-top-right-radius: 10px;min-height: 175px;margin-bottom: 20px;">
                                <h5 class="card-title">Budget Remaining</h5>
                                <p class="card-text"> Rs. @ViewBag.BudgetRemaining remaining</p>
                                <p class="card-text">@ViewBag.BudgetPresentage% </p>

                            </div>
                            <div class="col-12 pt-4">
                                <div class="progress w-50 mx-auto">
                                    <div class="progress-bar bg-success" role="progressbar" aria-valuenow="60" aria-valuemin="0" aria-valuemax="100" style="width: @ViewBag.BudgetPresentage%">

                                    </div>
                                </div>
                            </div>
                        </div>
                    </div>

                    <div class="col-md-12 text-center pb-4" data-aos="zoom-in" data-aos-duration="1000">
                        <div class="col-10 mx-auto p-0" style="width: 30rem;background-color: #00000026;min-height: 290px;border-radius: 10px">
                            <div class="col-12 pt-3" style="background-color: #276331;color:white;border-top-left-radius: 10px;border-top-right-radius: 10px;min-height: 175px;margin-bottom: 20px;">
                                <h5 class="card-title">Current Profit Margin</h5>
                                <p class="card-text">Current: @ViewBag.ProfitMargin % </p>
                                <p>Rs. @ViewBag.Profit </p>
                                <p class="card-text">Target: @ViewBag.ProfitMarginTarget % </p>
                            </div>
                            <div class="col-12 pt-4">
                                <div class="progress w-50 mx-auto">
                                    <div class="progress-bar bg-success" role="progressbar" aria-valuenow="60" aria-valuemin="0" aria-valuemax="100" style="width:@ViewBag.ProfitMargin%">

                                    </div>
                                </div>
                            </div>
                        </div>
                    </div>
                    <div class="col-md-12 text-center pb-4" data-aos="zoom-in" data-aos-duration="1000">
                        <div class="col-10 mx-auto p-0" style="width: 30rem;background-color: #00000026;min-height: 290px;border-radius: 10px">
                            <div class="col-12 pt-3" style="background-color: #636327;color:white; border-top-left-radius: 10px;border-top-right-radius: 10px;min-height: 175px;margin-bottom: 20px;">
                                <h5 class="card-title">Current Progress</h5>
                                <p class="card-text">%@ViewBag.Completion Competed</p>
                                <p><div>All Tasks - @ViewBag.TotalTasks </div><div>Allocated Tasks -@Model.AllocatedTasks </div><div>Finalized Tasks -@Model.FinalizedTasks </div></p>
                            </div>
                            <div class="col-12 pt-4">
                                <div class="progress w-50 mx-auto">
                                    <div class="progress-bar bg-success" role="progressbar" aria-valuenow="60" aria-valuemin="0" aria-valuemax="100" style="width:@ViewBag.Completion%">

                                    </div>
                                </div>
                            </div>
                        </div>
                    </div>

                </div>

               
                <div class="col-sm-8" >

                    <div class="container-fluid">

                        <div class="row mb-4" style="        background-color: #ffffff42;" >
                            @if (Model.Status == "Closed" || Model.StartDate > DateTime.Now)
                            {
                                <a class="btn col-4 " style="border-radius: 0;border-right: solid 2px darkgrey;box-shadow: 0px 2px 1px 2px #00000014;" role="button">Budget Details</a>
                            }
                            else
                            {
                                <a class="btn col-4 "  style="color:#7192cc;border-radius: 0;border-right: solid 2px darkgrey;box-shadow: 0px 2px 1px 2px #00000014;" role="button">Budget Details</a>
                            }

                            <a class="btn col-4 "  style="color:#7192cc;border-radius: 0;border-right: solid 2px darkgrey;box-shadow: 0px 2px 1px 2px #00000014;" role="button" asp-controller="Task" asp-action="GetTaskByProjectId" asp-route-id="@Model.Id">View Task</a>

                            <a class="btn col-4" style="color: #7192cc;box-shadow: 0px 2px 1px 2px #00000014;" role="button" asp-controller="Home" asp-action="ProjectPlan" asp-route-id="@Model.Id">View Plans</a>
                        </div>
                        <div class="row mb-4" style=" background-color: #ffffff42; " >
                            
                            @if (@Model.CustomerId == null)
                            {
                                <a class="btn col-4  "  style="border-radius: 0;border-right: solid 2px darkgrey;box-shadow: 0px 2px 1px 2px #00000014;" role="button">Edit Customer</a>
                            }
                            else
                            {
                                <a class="btn col-4"  style="color:#7192cc;border-radius: 0;border-right: solid 2px darkgrey;box-shadow: 0px 2px 1px 2px #00000014;" role="button" asp-action="EditCustomer" asp-controller="Customer" asp-route-id="@Model.CustomerId">Edit Customer</a>
                            }

                            @if (Model.Status == "Closed")
                            {
                                <a class="btn  col-4" style="box-shadow: 0px 2px 1px 2px #00000014;" role="button">Edit Project</a>
                            }
                            else
                            {
                                <a class="btn col-4"  style="color: #7192cc;box-shadow: 0px 2px 1px 2px #00000014;" role="button" asp-action="EditProject" asp-route-id="@Model.Id">Edit Project</a>
                            }
                            <a class="btn btn-danger col-4"  style="color:white;border-radius: 0;box-shadow: 0px 2px 1px 2px #00000014;" role="button" asp-action="DeleteProject" asp-route-id="@Model.Id" onclick="return confirm('Are you sure you want to delete this project ? ')">Delete Project</a>
                        </div>
                    </div>

                    <hr />
                    <div class="container p-4" >

                        <div class="row" >
                            <div class="col-sm-6" id="proj">
                                <h1 class="pt-3 pb-3" style="color:#256f92;font-weight:bold;background-color: aliceblue">@Model.Name</h1>

                            </div>
                            <div class="col-sm-6">
                                <div class="form-group text pt-5" > <span>Created Date : @Model.CreatedDate</span> </div>
                                <div class="form-group text"><span>Last Update : @Model.LastUpdate</span>  </div>
                                <div class="form-group text"> <span>Project Id : @Model.Id</span></div>
                                <div class="form-group text"><span>Project Type : @Model.Type</span> </div>
                                @if (Model.Status == "Closed")
                                {
                                    <div class="form-group text"> <span>Project Status : <strong class="text-danger">@Model.Status</strong></span></div>
                                }
                                else
                                {
                                    <div class="form-group text"> <span>Project Status : <strong>@Model.Status</strong></span></div>
                                }
                                <div class="form-group text">
                                    <span>
                                        Project Health :
                                        @if ((@Model.Cost < @Model.EstimetedBudget) && (@Model.DeliveryDate > Model.ClosedDate))
                                        {
                                            <strong style="color:#18672a">Good</strong>
                                            <span style="background-color:#18672a">&nbsp;&nbsp;&nbsp;&nbsp;</span>
                                        }
                                        else if (@Model.Cost == @Model.EstimetedBudget || @Model.DeliveryDate == Model.ClosedDate)
                                        {
                                            <strong style="color:#f1f50d">Neutral</strong>
                                            <span style="background-color:#f1f50d">&nbsp;&nbsp;&nbsp;&nbsp;</span>
                                        }
                                        else
                                        { <strong class="text-danger">Bad</strong>
                                            <span style="background-color:red">&nbsp;&nbsp;&nbsp;&nbsp;</span>}

                                    </span>
                                </div>
                            </div>
                          
                        </div>


                        <div class="row">
                            <div class="col-md-12">
                                <div class="form-group" style="background-color: #00a9a71f; padding: 5px; margin-bottom: 7px; border-radius: 5px;"><span>Start Date : @Model.StartDate.Year/@Model.StartDate.Month/@Model.StartDate.Day </span> </div>
                            </div>
                            <div class="col-md-12">
                                <div class="form-group" style="background-color: #00a9a71f; padding: 5px; margin-bottom: 7px; border-radius: 5px;"><span>Delivery Date : @Model.DeliveryDate.Year/@Model.DeliveryDate.Month/@Model.DeliveryDate.Day</span> </div>
                            </div>
                        </div>

                        <div class="row">
                            <div class="col-md-12">
                                <div class="form-group" style="background-color: #00a9a71f; padding: 5px; margin-bottom: 7px; border-radius: 5px;"><span>@Model.Description</span></div>
                            </div>
                            <div class="col-md-12">
                                <div class="form-group" style="background-color: #00a9a71f; padding: 5px; margin-bottom: 7px; border-radius: 5px;"> <span>Customer Name : @ViewBag.cus</span></div>
                            </div>
                            <div class="col-md-12">
                                <div class="form-group" style="background-color: #00a9a71f; padding: 5px; margin-bottom: 7px; border-radius: 5px;"> <span>Allocated Project Manager : @ViewBag.pm</span></div>
                            </div>
                            <div class="col-md-12">
                                <div class="form-group" style="background-color: #00a9a71f; padding: 5px; margin-bottom: 7px; border-radius: 5px;"> <span>Budget : @Model.EstimetedBudget</span> </div>
                            </div>
                            <div class="col-md-12">
                                <div class="form-group" style="background-color: #00a9a71f; padding: 5px; margin-bottom: 7px; border-radius: 5px;"><span>Contract Value : @Model.ContractValue</span> </div>
                            </div>
                            <div class="col-md-12">
                                <div class="form-group" style="background-color: #00a9a71f; padding: 5px; margin-bottom: 7px; border-radius: 5px;"><span>Current Expences : @Model.Cost</span> </div>
                            </div>

                           
                        </div>

                    </div>
                </div>
            </div>
        </div>






        <div class="row pt-5">
          
        </div>







    </div>
















@*<h1>@Model.Name</h1>

<div class="row ">
    <div class="col-lg-12 mx-auto p-5 ">
        <div class="mt-2 mx-auto border-0">
            <div class="card-body border-0">
                <div class="container">
                    <div class="controls">
                        <div class="row">
                            <div class="col-md-6">
                                <div class="form-group text"> <span>Created Date :- @Model.CreatedDate</span> </div>
                            </div>
                            <div class="col-md-6">
                                <div class="form-group text"><span>Last Update :- @Model.LastUpdate</span>  </div>
                            </div>
                        </div>

                        <div class="row">
                            <div class="col-md-6">
                                <div class="form-group text"> <span>Project Id :- @Model.Id</span></div>
                            </div>
                            <div class="col-md-6">
                                <div class="form-group text"><span>Project Type :- @Model.Type</span> </div>
                            </div>
                        </div>

                        <div class="row">
                            <div class="col-md-6">
                                <div class="form-group text"> <span>Project Status :- @Model.Status</span></div>
                            </div>
                            <div class="col-md-6">
                                <div class="form-group text"> <span>Project Health :- @Model.Health </span></div>
                            </div>
                        </div>

                        <div class="row">
                            <div class="col-md-12">
                                <div class="form-group"><span>@Model.Description</span></div>
                            </div>
                            <div class="col-md-12">
                                <div class="form-group"><span>Started Date :- @Model.StartDate.Year/@Model.StartDate.Month/@Model.StartDate.Day </span> </div>
                            </div>
                            <div class="col-md-12">
                                <div class="form-group"><span>Delivery Date :- @Model.DeliveryDate.Year/@Model.DeliveryDate.Month/@Model.DeliveryDate.Day</span> </div>
                            </div>
                            <div class="col-md-12">
                                <div class="form-group"> <span>Allocated Project Manager :- @Model.ProjectManager</span></div>
                            </div>
                            <div class="col-md-12">
                                <div class="form-group"> <span>Estimated Budget :- @Model.EstimetedBudget</span> </div>
                            </div>
                            <div class="col-md-12">
                                <div class="form-group"><span>Contract Value :- @Model.ContractValue</span> </div>
                            </div>
                            <div class="col-md-12">
                                <div class="form-group"><span>Current Expences :- @Model.Cost</span> </div>
                            </div>
                            
                            <div class="col-md-12" id="edit1">
                                <a class="btn btn-primary" role="button" asp-action="ViewProgress" asp-route-id="@Model.Id">View Progress</a>
                                <a class="btn btn-primary" role="button">View Task</a>
                                <a class="btn btn-primary" role="button">Edit Plans</a>
                                <a class="btn btn-primary" role="button">Edit Customer</a>
                                <a class="btn btn-default" role="button" asp-action="EditProject" asp-route-id="@Model.Id">Edit Project</a>
                                <a class="btn btn-danger" role="button" asp-action="BeforeDelete" asp-route-id="@Model.Id">Delete Project</a>
                            </div>
                        </div>
                        </div>
                </div>
            </div>
        </div>  /.8 
    </div>  /.row
</div>*@






























